**一.理清题意，没理解好好读题了，示例很清晰了**
****

>**equations = [["a","b"],["b","c"]]
values = [2.0,3.0]
queries = [["a","c"],["b","a"],["a","e"],["a","a"],["x","x"]]
输出：[6.00000,0.50000,-1.00000,1.00000,-1.00000]**


>**已知：
给定：a / b = 2.0, b / c = 3.0
问题：a / c = ?, b / a = ?, a / e = ?, a / a = ?, x / x = ?
返回：[6.0, 0.5, -1.0, 1.0, -1.0 ]**

**二.思考解题思路**

例子按照上面的例子（也就是示例1）
***
**按节点思考：**
我们只需要结算出每个节点的值是多少就行了，这是很常规的思路。

>首先，a/b = 2.0 ，那么a和b取什么值都行吧，只要它等于2.0.
假设a = 2 ，b=1. 
那么 b/c = 3.0 前面b已经确定了是1 ，那c只能取 1/3了 。

***

那么，此时a = 2， b = 1， c = 1/3 这是一种符合equations = values 对应的值的一种取值。
剩下的事情就是计算 a/c = 2*3 = 6 , b/a = 1/2  = 0.5 ...

***

>仔细观察就发现：
如果把每个equations[i]里的每个元素的2个点相连接，就成下图
 [新建 Microsoft Visio Drawing.png](https://pic.leetcode-cn.com/1607306275-Dpgrzg-%E6%96%B0%E5%BB%BA%20Microsoft%20Visio%20Drawing.png)




对于给定的问题：
问题：a / c = ?, b / a = ?, a / e = ?, a / a = ?, x / x = ?

求a/c，也就是从a出发，遍历到c，直接把两节点的值相除就行。

求x/x ，图没有x节点，结果是-1。

>为什么是无向图？
观察示例3，连接 ：equations的a和b
问题里有要求b到a的答案，如果只连接a到b，b到a根本不相连接，所以b到a求不到。
所以要无向图

这样也算是可以实现了。然而实现起来感觉略麻烦，你得计算每个 节点是多少，计算之前还得看节点之前是否已经是有值。

于是我们可以换个角度
***
**按边思考：**
我们不计算点了。如果a/b = 2. 把a和b相连接，权值是2.
那由于是无向图，b到a又是多少呢。其实很简单，就是2的倒数 
 [QQ截图20201207100856.png](https://pic.leetcode-cn.com/1607307253-XXCfbJ-QQ%E6%88%AA%E5%9B%BE20201207100856.png)



>注意箭头的方向。
如果求a/c，经过的路径是a-b-c，权值是2和3，把路径上的权值相乘，就是结果。
按边做的好处是构建图比较简单。
***
**三.实现（按边）**

>建图完成后。
遍历queries数组，对每个元素进行dfs，检查每个queries[0] 和queries[1]是否相连接。
相连接：遍历路径上的权值相乘得结果
不相连接，结果是-1.

>1.节点是字符串，我考虑用map构建图，map[i]有和i相连接的所有点，每个点还带有它的权值。
>2.由于是无向图，需要一个标记数组来记录已经访问过的节点，否则死循环。

**别看着代码复杂，dfs其实改变的东西很少，参数都是固定的。**
类似的题目：[990. 等式方程的可满足性](https://leetcode-cn.com/problems/satisfiability-of-equality-equations/)

****

 [togguo.png](https://pic.leetcode-cn.com/1607308710-ukBRoP-togguo.png)


